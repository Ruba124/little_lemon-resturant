{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="slideshow-wrapper">
  <!-- Left Quote Section -->
  <div class="quote-box">
    <h2>‚ÄúFresh flavors. Bright moments.‚Äù</h2>
    <p>At Little Lemon, every bite is a burst of sunshine üçã</p>
  </div>

  <!-- Right Slideshow Section -->
  <div class="slider-container">
    <div class="slider" id="slider">
      <div class="slide"><img src="{% static 'img/slide1.jpg' %}" alt="Slide 1"></div>
      <div class="slide"><img src="{% static 'img/slide2.png' %}" alt="Slide 2"></div>
      <div class="slide"><img src="{% static 'img/slide3.jpg' %}" alt="Slide 3"></div>
      <div class="slide"><img src="{% static 'img/slide5.webp' %}" alt="Slide 5"></div>
      <div class="slide"><img src="{% static 'img/slide7.jpg' %}" alt="Slide 7"></div>
    </div>

    <!-- Dots Navigation -->
    <div class="dots" id="dots"></div>
  </div>
</div>

<style>
  .slideshow-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 90%;
    max-width: 1200px;
    margin: 50px auto;
    gap: 40px;
    flex-wrap: wrap;
  }

  .quote-box {
    flex: 1;
    max-width: 400px;
    padding: 20px;
    font-family: 'Segoe UI', sans-serif;
    color: #2e7d32;
  }

  .quote-box h2 {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .quote-box p {
    font-size: 1.2rem;
    color: #555;
  }

  .slider-container {
    flex: 1;
    position: relative;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .slider {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }

  .slide {
    min-width: 100%;
    box-sizing: border-box;
    padding: 10px;
    background-color: #fff;
  }

  .slide img {
    width: 100%;
    max-height: 400px;
    object-fit: contain;
    display: block;
    margin: 0 auto;
    border-radius: 8px;
  }

  .dots {
    text-align: center;
    margin-top: 15px;
  }

  .dot {
    display: inline-block;
    width: 12px;
    height: 12px;
    margin: 0 6px;
    background-color: #ccc;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .dot.active {
    background-color: #2e7d32;
  }

  @media (max-width: 768px) {
    .slideshow-wrapper {
      flex-direction: column;
      align-items: center;
    }

    .quote-box {
      text-align: center;
    }

    .slide img {
      max-height: 250px;
    }
  }
</style>

<script>
  let currentIndex = 0;
  const slides = document.querySelectorAll(".slide");
  const slider = document.getElementById("slider");
  const dotsContainer = document.getElementById("dots");

  // Create dots
  slides.forEach((_, index) => {
    const dot = document.createElement("span");
    dot.classList.add("dot");
    dot.addEventListener("click", () => showSlide(index));
    dotsContainer.appendChild(dot);
  });

  const dots = document.querySelectorAll(".dot");

  function showSlide(index) {
    if (index >= slides.length) currentIndex = 0;
    else if (index < 0) currentIndex = slides.length - 1;
    else currentIndex = index;

    slider.style.transform = `translateX(-${currentIndex * 100}%)`;

    dots.forEach(dot => dot.classList.remove("active"));
    dots[currentIndex].classList.add("active");
  }

  // Initialize first slide
  showSlide(0);
</script>
{% endblock %}
